## 设计文档

### 数据库设计

#### user Table

|Field|type(length)|Default|Null|key|extra|desc|
|----|----|----|----|----|----|
|id|int(11)|||pk|auto_increment|用户、管理员主键|
|phone|char(11)|NULL|NOT NULL|||登录使用|
|uesrname|varchar(30)|NULL|NOT NULL|||用户名|
|password|char(32)|NULL|NOT NULL|||md5加密密码|
|QQ|varchar(12)|NULL||||即时通讯|
|create_at|varchar(25)|NULL|NOT NULL|||创建时间|
|goods_num|int|0||||发布过的物品数量|
|power|tinyint|10||||权限值,普通用户默认为10|
|last_login|varchar(25)|||||最近一次登录时间|
|status|tinyint|0||||冻结帐号|

#### catelog Table
|Field|type(length)|Default|Null|key|extra|desc|
|----|----|----|----|----|----|
|id|int(11)|||pk|auto_increment|主键|
|name|varchar(30)||NOT NULL|||分类名|
|number|int(11)|0||||该分类下的商品数量|
|status|tinyint|0||||分类状态，0正常，1暂用|



#### goods Table

|Field|type(length)|Default|Null|key|extra|desc|
|----|----|----|----|----|----|
|id|int(11)|||pk|auto_increment|主键|
|catelog_id|int(11)|||fk||分类外键|
|user_id|int(11)|||fk||用户外键|
|name|char(50)|NULL|NOT NULL|||商品名|
|price|float(11)|NULL|NOT NULL|||出售价格|
|real_price|float(11)|NULL|NOT NULL|||真实价格|
|start_time|varchar(25)|(now time)|NOT NULL|||发布时间|
|end_time|varchar(25)|NULL|NOT NULL|||下架时间|
|desc|text||NOT NULL|||详细信息|
|commet_num|int(11)|||||评论回复数量|

#### image Table

|Field|type(length)|Default|Null|key|extra|desc|
|----|----|----|----|----|----|
|id|int(11)|||pk|auto_increment|主键|
|goods_id|int(11)|||fk||商品外键|
|img_url|text|||||图片链接|

#### commets Table

|Field|type(length)|Default|Null|key|extra|desc|
|----|----|----|----|----|----|
|id|int(11)|||pk|auto_increment|评论主键|
|user_id|int(11)||NOT NULL|fk||用户外键|
|goods_id|int(11)||NOT NULL|fk||商品外键|
|content|text||NOT NULL|||评论内容|
|create_at|varchar(25)||NOT NULL|||评论时间|

#### reply Table

|Field|type(length)|Default|Null|key|extra|desc|
|----|----|----|----|----|----|
|id|int(11)|||pk|auto_increment|主键|
|user_id|int(11)||NOT NULL|fk||用户外键|
|commet_id|int(11)||NOT NULL|fk||评论外键|
|content|text||NOT NULL|||回复内容|
|create_at|varchar(25)||NOT NULL|||回复时间|

#### notice Table

|Field|type(length)|Default|Null|key|extra|desc|
|----|----|----|----|----|----|
|id|int(11)|||pk|auto_increment|主键|
|user_id|int(11)||NOT NULL|fk||用户外键|
|content|text||NOT NULL|||回复内容|
|create_at|varchar(25)||NOT NULL|||回复时间|
|status|tinyint|0||||状态，0未读，1已读|
